// Generated by CoffeeScript 1.8.0
define(['utils', 'ace/ace', 'ehbs!templates/IDE'], function(u, ace) {
  var IDERoute;
  return IDERoute = {
    bind: function(App) {
      App.IDERoute = Ember.Route.extend({
        model: function() {
          return new Ember.RSVP.Promise(function(resolve, reject) {
            return new Ember.RSVP.hash({
              bots: Ember.$.getJSON('/bot/bots')
            }).then(function(result) {
              return resolve({
                bots: result.bots
              });
            }, function(errors) {
              return reject(errors);
            });
          });
        }
      });
      App.IDEController = Ember.ObjectController.extend({
        definitions: ['Grammar', 'AIML'],
        selectionChanged: (function() {
          var bot, definition, thiz, url;
          thiz = this;
          bot = this.get('bot');
          definition = this.get('definition');
          switch (definition.toLowerCase()) {
            case 'grammar':
              url = '/bot/grammars?bot=' + bot;
              break;
            case 'aiml':
              url = '/bot/aimls?bot=' + bot;
              break;
          }
          return Ember.$.getJSON(url).then(function(result) {
            return thiz.set;
          });
        }).observes('bot', 'definition')
      });
      return App.IDEView = Ember.View.extend({
        didInsertElement: function() {
          var editor;
          this._super();
          editor = ace.edit('editor');
          return $('#editor')[0].style.fontSize = '14px';
        }
      });
    }
  };
});
